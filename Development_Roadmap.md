# Дорожная карта разработки проекта "Traders_Trade_Diary"

## Введение

Дорожная карта описывает разработку проекта "Traders_Trade_Diary" поэтапно, начиная с минимально жизнеспособного продукта (MVP) для одного пользователя. Проект планируется реализовать за 11-15 недель с возможностью масштабирования до продакшен-версии.

---

## Этап 1: Подготовка и основа (Недели 1-2)
**Цель**: Создать базовую архитектуру и минимальную функциональность

**Задача 1.1: Настройка окружения**
- **Описание**: Установка и настройка PostgreSQL, Python виртуального окружения, FastAPI приложения
- **Приоритет**: Высокий
- **Трудозатраты**: 1 день
- **Сложность**: Низкая
- **Зависимости**: Нет

**Задача 1.2: Создание базовой модели данных**
- **Описание**: Разработка таблиц: trades, positions, notes; определение полей и связей; создание миграций Alembic
- **Приоритет**: Высокий
- **Трудозатраты**: 2-3 дня
- **Сложность**: Средняя
- **Зависимости**: Задача 1.1

**Задача 1.3: Реализация базовых API-эндпоинтов**
- **Описание**: CRUD для сделок, позиций и заметок
- **Приоритет**: Высокий
- **Трудозатраты**: 2-3 дня
- **Сложность**: Средняя
- **Зависимости**: Задача 1.2

**Задача 1.4: Создание простого веб-интерфейса**
- **Описание**: Страница списка позиций, форма добавления сделки, базовая навигация
- **Приоритет**: Высокий
- **Трудозатраты**: 2-3 дня
- **Сложность**: Средняя
- **Зависимости**: Задача 1.3

---

## Этап 2: Базовая функциональность (Недели 3-4)
**Цель**: Реализовать основные функции для работы с данными

**Задача 2.1: Реализация расчетов**
- **Описание**: Расчет средней цены позиции, расчет P/L для позиций, отображение результатов в интерфейсе
- **Приоритет**: Высокий
- **Трудозатраты**: 3-4 дня
- **Сложность**: Средняя
- **Зависимости**: Задача 1.4

**Задача 2.2: Базовый импорт**
- **Описание**: Простой парсер HTML-отчетов Сбербанка, загрузка файла и отображение данных, подтверждение импорта
- **Приоритет**: Высокий
- **Трудозатраты**: 5-7 дней
- **Сложность**: Высокая
- **Зависимости**: Задача 2.1

**Задача 2.3: Улучшение интерфейса**
- **Описание**: Страница деталей позиции, список сделок с фильтрами, отображение аналитики
- **Приоритет**: Средний
- **Трудозатраты**: 2-3 дня
- **Сложность**: Средняя
- **Зависимости**: Задача 2.2

---

## Этап 3: Улучшения (Недели 5-6)
**Цель**: Добавить дополнительные функции и улучшить UX

**Задача 3.1: Улучшенный импорт**
- **Описание**: Обработка разных форматов отчетов, проверки и валидация данных, система отчетов об импорте
- **Приоритет**: Средний
- **Трудозатраты**: 4-5 дней
- **Сложность**: Высокая
- **Зависимости**: Задача 2.3

**Задача 3.2: Аналитика**
- **Описание**: Построение графиков, расширенные метрики, экспорт в CSV
- **Приоритет**: Средний
- **Трудозатраты**: 3-4 дня
- **Сложность**: Средняя
- **Зависимости**: Задача 3.1

**Задача 3.3: UX улучшения**
- **Описание**: Оптимизация производительности, улучшенные формы ввода, поддержка горячих клавиш
- **Приоритет**: Низкий
- **Трудозатраты**: 2-3 дня
- **Сложность**: Низкая
- **Зависимости**: Задача 3.2

---

## Этап 4: Расширенная функциональность (Недели 7-8)
**Цель**: Добавить передовые функции

**Задача 4.1: Методика "Лесенка"**
- **Описание**: Уровни покупок/продаж, планирование позиций, визуализация уровней
- **Приоритет**: Средний
- **Трудозатраты**: 4-5 дней
- **Сложность**: Высокая
- **Зависимости**: Задача 3.3

**Задача 4.2: Котировки MOEX**
- **Описание**: Интеграция с внешним API, автоматическое обновление цен, пересчет аналитики
- **Приоритет**: Средний
- **Трудозатраты**: 3-4 дня
- **Сложность**: Средняя
- **Зависимости**: Задача 4.1

**Задача 4.3: Голосовой ввод**
- **Описание**: Интеграция Web Speech API, обработка голосовых заметок, улучшение UX для заметок
- **Приоритет**: Низкий
- **Трудозатраты**: 2-3 дня
- **Сложность**: Средняя
- **Зависимости**: Задача 4.2

---

## Этап 5: Подготовка к масштабированию (Недели 9-10)
**Цель**: Подготовить систему к возможному переходу в продакшен

**Задача 5.1: Многопользовательская архитектура**
- **Описание**: Добавление поля user_id к сущностям, адаптация всех запросов и интерфейсов, система аутентификации
- **Приоритет**: Средний (для подготовки к продакшену)
- **Трудозатраты**: 4-5 дней
- **Сложность**: Высокая
- **Зависимости**: Задача 4.3

**Задача 5.2: Безопасность**
- **Описание**: Внедрение JWT аутентификации, защита эндпоинтов, валидация входных данных
- **Приоритет**: Средний
- **Трудозатраты**: 2-3 дня
- **Сложность**: Средняя
- **Зависимости**: Задача 5.1

**Задача 5.3: Тестирование**
- **Описание**: Unit-тесты, интеграционные тесты, покрытие 70%+ кода
- **Приоритет**: Высокий
- **Трудозатраты**: 3-4 дня
- **Сложность**: Средняя
- **Зависимости**: Задача 5.2

---

## Этап 6: Дополнительные фичи (Недели 11-12)
**Цель**: Добавить опциональные, но полезные функции

**Задача 6.1: Интеграция с Telegram**
- **Описание**: Создание сервиса для отправки сообщений о сделках в Telegram-группу, интеграция с UI, настройка конфигурации (токен бота, ID группы), обработка ошибок и логирование
- **Приоритет**: Низкий
- **Трудозатраты**: 2-3 дня
- **Сложность**: Средняя
- **Зависимости**: Задача 1.3 (базовые API-эндпоинты)

---

## Критерии готовности для каждого этапа

**MVP (после Этапа 2)**:
- Все основные функции работают без критических ошибок
- Возможность импорта отчетов Сбербанка
- Корректный расчет доходности
- Пользователь может вести дневник сделок

**Продакшен готовность (после Этапа 5)**:
- Все критерии MVP выполнены
- Система готова к работе с множеством пользователей
- Пройдено тестирование с покрытием 70%+
- Проверена безопасность системы

---

## Рекомендации по реализации

1. **Итерационный подход**: После каждого этапа проводить оценку прогресса и корректировать при необходимости
2. **Документирование**: Сопровождать код документацией и комментариями
3. **Контроль качества**: Регулярно проводить код-ревью и тестирование
4. **Фокус на MVP**: В первую очередь реализовать функции высокого приоритета для быстрого получения рабочего продукта